input {
    file {
        path => ["ROUTE_TO_YOUR_DATA_SOURCE_FILE"]
        start_position => "beginning"
        sincedb_path => "/dev/null"
        codec => plain {
            charset => "CP1252"
        }
    }
  	elasticsearch {
    	user => logstash_internal
    	password => changeme
	}
}

filter {
    csv {
        separator => ";"
        columns => [
        	"ID_PREDIO",
			"LOTE",
			"ESTADO",
			"MARCA",
			"PROGRAMA_GESTION",
			"FECHA_ESTADO",
			"ID_SOPORTE_TRIBUTARIO",
			"FUENTE_DIR",
			"FECHA_REG",
			"MUNICIPIO_ENVIO",
			"ESTRATO",
			"AREA_TERRENO",
			"AREA_CONSTRUIDA",
			"DESTINO",
			"TARIFA_PLENA",
			"AJUSTE_TARIFA",
			"PORCENTAJE_EXENCION",
			"ID_UNICO_CONTRIBUYENTE",
			"TIPO_SOPORTE",
			"NUMERO_SOPORTE_TRIBUTARIO",
			"AUTOAVALUO",
			"IMPUESTO_CARGO",
			"FECHA_LIMITE_1",
			"AJUSTE_EQUIDAD_1",
			"IMPUESTO_AJUSTADO_1",
			"SALDO_CARGO_1",
			"VALOR_SANCION_1",
			"VALOR_PAGAR_1",
			"VALOR_DESCUENTO_1",
			"TOTAL_PAGAR_1",
			"VALOR_PAGO_VOLUNTARIO_1",
			"VALOR_TOTAL_CON_PAGO_VOL_1",
			"FECHA_LIMITE_2",
			"AJUSTE_EQUIDAD_2",
			"IMPUESTO_AJUSTADO_2",
			"SALDO_CARGO_2",
			"VALOR_SANCION_2",
			"VALOR_PAGAR_2",
			"VALOR_DESCUENTO_2",
			"TOTAL_PAGAR_2",
			"VALOR_PAGO_VOLUNTARIO_2",
			"VALOR_TOTAL_CON_PAGO_VOL_2",
			"FECHA_LIMITE_3",
			"AJUSTE_EQUIDAD_3",
			"IMPUESTO_AJUSTADO_3",
			"SALDO_CARGO_3",
			"VALOR_SANCION_3",
			"VALOR_PAGAR_3",
			"VALOR_DESCUENTO_3",
			"TOTAL_PAGAR_3",
			"VALOR_PAGO_VOLUNTARIO_3",
			"VALOR_TOTAL_CON_PAGO_VOL_3"
        ]
    }
}

output {
    stdout { codec => rubydebug }
    elasticsearch {
        action => "index"
        hosts => ["127.0.0.1:9200"]
        index => "predial"
        document_type => "facturapredial"
        document_id => "%{ID_PREDIO}"        
        workers => 1
    	user => logstash_internal
    	password => changeme
    }
}